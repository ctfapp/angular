"use strict";(self.webpackChunknavigator=self.webpackChunknavigator||[]).push([[723],{1723:(ki,$,p)=>{p.r($),p.d($,{TopPerformanceModule:()=>Zi});var j=p(9132),H=p(4859),ct=p(811),pt=p(4850),E=p(7392),q=p(5655),ht=p(3162),k=p(3238),ut=p(3267),dt=p(6308),y=p(7155),mt=p(3848),G=p(9549),L=p(7455),z=p(6205),ft=p(4466),I=p(7579),P=p(2722),m=p(1639),O=p(7485),t=p(4650),_t=p(1135),K=p(4004),gt=p(3900),bt=p(2843),W=p(2340);const Q={runtime_mappings:{Empresa:{type:"keyword",script:{source:"emit(doc['tenant'].value);"}},Actividade:{type:"keyword",script:{source:"emit(doc['activity'].value);"}},TipoArtigoServicoNome:{type:"keyword",script:{source:"def type  = doc['TipoArtigoServico'].value;\r\nif(type == 'A'){\r\nemit('Artigo')\r\n}\r\nelse {\r\nemit('Servi\xe7o')\r\n}"}}}},X=[{ValorLiquidoVenda:{aggs:{2:{terms:{field:"_DimensionVariable",order:{1:"desc"},size:"_TopVariable"},aggs:{1:{sum:{field:"ValorLiquidoVendaEUR"}},3:{sum:{field:"ValorMargemEUR"}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:"vendas"}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-08T13:30:55.013Z"}}}],should:[],must_not:[]}}}},{ValorMargem:{aggs:{2:{terms:{field:"_DimensionVariable",order:{1:"desc"},size:"_TopVariable"},aggs:{1:{sum:{field:"ValorMargemEUR"}},3:{sum:{field:"ValorMargemEUR"}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:"vendas"}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-08T13:30:55.013Z"}}}],should:[],must_not:[]}}}},{QuantidadeVenda:{aggs:{2:{terms:{field:"_DimensionVariable",order:{1:"desc"},size:"_TopVariable"},aggs:{1:{sum:{field:"QuantidadeVenda"}},3:{sum:{field:"ValorMargemEUR"}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:"vendas"}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-08T13:30:55.013Z"}}}],should:[],must_not:[]}}}}],Tt=[{ValorLiquidoVenda:{aggs:{"other-filter":{aggs:{1:{sum:{field:"ValorLiquidoVendaEUR"}},3:{sum:{field:"ValorMargemEUR"}}},filters:{filters:{f:{bool:{must:[],filter:[],should:[],must_not:[]}}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:{query:"vendas"}}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-09T18:24:20.723Z"}}}],should:[],must_not:[]}}}},{ValorMargem:{aggs:{"other-filter":{aggs:{1:{sum:{field:"ValorMargemEUR"}},3:{sum:{field:"ValorMargemEUR"}}},filters:{filters:{f:{bool:{must:[],filter:[],should:[],must_not:[]}}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:{query:"vendas"}}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-09T18:24:20.723Z"}}}],should:[],must_not:[]}}}},{QuantidadeVenda:{aggs:{"other-filter":{aggs:{1:{sum:{field:"QuantidadeVenda"}},3:{sum:{field:"ValorMargemEUR"}}},filters:{filters:{f:{bool:{must:[],filter:[],should:[],must_not:[]}}}}}},size:0,fields:[{field:"created_date_time",format:"strict_date_time"},{field:"date",format:"date_time"}],script_fields:{},stored_fields:["*"],runtime_mappings:Q.runtime_mappings,_source:{excludes:[]},query:{bool:{must:[],filter:[{match_phrase:{resource_type:{query:"vendas"}}},{range:{date:{format:"strict_date_optional_time",gte:"2022-01-01T00:00:00.000Z",lte:"2022-09-09T18:24:20.723Z"}}}],should:[],must_not:[]}}}}];var v=p(9570),xt=p(529);let tt=(()=>{class i{constructor(e){this._httpClient=e,this.baseUrl=W.N.api.sales.search,this.msearchUrl=W.N.api.sales.msearch,this._data=new _t.X(null),this.dimension="NomeCliente",this.top="10"}get data$(){return this._data.asObservable()}getData(e){let a="";for(let h of X){let f=Object.keys(h)[0],l=JSON.parse(JSON.stringify(h[f]));l=this.applyFilters(l,e),l=this.applyCombination(l,this.dimension,this.top),a+="{}\n"+JSON.stringify(l)+"\n"}return this._httpClient.post(this.msearchUrl,a,{headers:{"Content-Type":"application/json"},observe:"response"}).pipe((0,K.U)(h=>{let f=this.prepareData(h.body.responses);this.getOthersData(f,e).subscribe(l=>{this._data.next(l)})}))}getOthersData(e,n){let s="";for(let f of Tt){let l=Object.keys(f)[0],g=JSON.parse(JSON.stringify(f[l]));g=this.applyFilters(g,n),g=this.applyCombination(g,this.dimension,this.top);let C=e[this.dimension][l].dimensionData.long;for(let M in C)g.aggs["other-filter"].filters.filters.f.bool.must_not.push({match_phrase:{[this.dimension]:C[M]}});s+="{}\n"+JSON.stringify(g)+"\n"}return this._httpClient.post(this.msearchUrl,s,{headers:{"Content-Type":"application/json"},observe:"response"}).pipe((0,K.U)(f=>{let l=f.body.responses,g=(0,v.j)({path:"$.aggregations..1.value",json:l[0]})||[0],C=(0,v.j)({path:"$.aggregations..3.value",json:l[0]})||[0],M=(0,v.j)({path:"$.aggregations..1.value",json:l[1]})||[0],w=(0,v.j)({path:"$.aggregations..3.value",json:l[1]})||[0],x=(0,v.j)({path:"$.aggregations..1.value",json:l[2]})||[0],A=(0,v.j)({path:"$.aggregations..3.value",json:l[2]})||[0];return e[this.dimension].ValorLiquidoVenda.dimensionData.short.push("OTHERS"),e[this.dimension].ValorLiquidoVenda.dimensionData.long.push("OTHERS"),e[this.dimension].ValorLiquidoVenda.value.push(g[0]),e[this.dimension].ValorLiquidoVenda.margin.push(C[0]),e[this.dimension].ValorMargem.dimensionData.short.push("OTHERS"),e[this.dimension].ValorMargem.dimensionData.long.push("OTHERS"),e[this.dimension].ValorMargem.value.push(M[0]),e[this.dimension].ValorMargem.margin.push(w[0]),e[this.dimension].QuantidadeVenda.dimensionData.short.push("OTHERS"),e[this.dimension].QuantidadeVenda.dimensionData.long.push("OTHERS"),e[this.dimension].QuantidadeVenda.value.push(x[0]),e[this.dimension].QuantidadeVenda.margin.push(A[0]),e}))}searchData(e,n,a){this.dimension=n,this.top=a;let h="";for(let f of X){let l=Object.keys(f)[0],g=JSON.parse(JSON.stringify(f[l]));g=this.applyFilters(g,e),g=this.applyCombination(g,n,a),h+="{}\n"+JSON.stringify(g)+"\n"}return this._httpClient.post(this.msearchUrl,h,{headers:{Authorization:"Bearer my-token","Content-Type":"application/json"},observe:"response"}).pipe((0,gt.w)(f=>{let l=this.prepareData(f.body.responses);return this.getOthersData(l,e)}))}prepareData(e){let n={[this.dimension]:{ValorLiquidoVenda:{dimensionData:{short:[],long:[]},value:[],margin:[]},ValorMargem:{dimensionData:{short:[],long:[]},value:[],margin:[]},QuantidadeVenda:{dimensionData:{short:[],long:[]},value:[],margin:[]}}},a=(0,v.j)({path:"$..aggregations.2.buckets..key",json:e[0]})||[0],s=a.map(Z=>Z),h=(0,v.j)({path:"$.aggregations.2.buckets..1.value",json:e[0]})||[0],f=(0,v.j)({path:"$.aggregations.2.buckets..3.value",json:e[0]})||[0],l=(0,v.j)({path:"$..aggregations.2.buckets..key",json:e[1]}),g=l.map(Z=>Z),C=(0,v.j)({path:"$.aggregations.2.buckets..1.value",json:e[1]})||[0],M=(0,v.j)({path:"$.aggregations.2.buckets..3.value",json:e[1]})||[0],w=(0,v.j)({path:"$..aggregations.2.buckets..key",json:e[2]}),x=w.map(Z=>Z),A=(0,v.j)({path:"$.aggregations.2.buckets..1.value",json:e[2]})||[0],V=(0,v.j)({path:"$.aggregations.2.buckets..3.value",json:e[2]})||[0];return n={[this.dimension]:{ValorLiquidoVenda:{dimensionData:{short:s,long:a},value:h,margin:f},ValorMargem:{dimensionData:{short:g,long:l},value:C,margin:M},QuantidadeVenda:{dimensionData:{short:x,long:w},value:A,margin:V}}},n}applyFilters(e,n){e.query.bool.filter[1].range&&(e.query.bool.filter[1].range.date.gte=n.dateTime.gte,e.query.bool.filter[1].range.date.lte=n.dateTime.lte);let a=[];if(n.customTag.length>0){a.push({bool:{should:[],must_not:[]}});for(let h of n.customTag){let f=h.searchData.split(":")[0],l=h.searchData.split(":")[1];h.filterStatus===O.f.FOR&&a[a.length-1].bool.should.push({match_phrase:{[f]:l}}),h.filterStatus===O.f.OUT&&a[a.length-1].bool.must_not.push({match_phrase:{[f]:l}})}}a.length>0&&(e.query.bool.filter=e.query.bool.filter.concat(a));let s=JSON.stringify(e);return s=s.replace("EUR",n.currency.code),JSON.parse(s)}applyCombination(e,n,a){let s=JSON.stringify(e);return s=s.replace("_DimensionVariable",n),s=s.replace("_TopVariable",a),JSON.parse(s)}handleError(e){return 0===e.status?console.error("An error occurred:",e.error):console.error(`Backend returned code ${e.status}, body was: `,e.error),(0,bt._)(()=>new Error("Something bad happened; please try again later."))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(xt.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var vt=p(5178),et=p(7276),it=p(266),D=p(9521),S=p(1281),yt=p(3353),B=p(6895),Y=p(6451),Ct=p(5698),Nt=p(8675),Mt=p(2687),Zt=p(445),kt=p(5017),U=p(4006);const St=["*"],nt=new t.OlP("MatChipRemove"),ot=new t.OlP("MatChipAvatar"),at=new t.OlP("MatChipTrailingIcon");class wt{constructor(o){this._elementRef=o}}const Ot=(0,k.sb)((0,k.pj)((0,k.Kr)(wt),"primary"),-1);let R=(()=>{class i extends Ot{constructor(e,n,a,s,h,f,l,g){super(e),this._ngZone=n,this._changeDetectorRef=h,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new I.x,this._onBlur=new I.x,this.selectionChange=new t.vpe,this.destroyed=new t.vpe,this.removed=new t.vpe,this._addHostClassName(),this._chipRippleTarget=f.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new k.IR(this,n,this._chipRippleTarget,a),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=s||{},this._animationsDisabled="NoopAnimations"===l,this.tabIndex=null!=g&&parseInt(g)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const n=(0,S.Ig)(e);n!==this._selected&&(this._selected=n,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=(0,S.Ig)(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=(0,S.Ig)(e)}get removable(){return this._removable}set removable(e){this._removable=(0,S.Ig)(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",n=this._elementRef.nativeElement;n.hasAttribute(e)||n.tagName.toLowerCase()===e?n.classList.add(e):n.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case D.yY:case D.ZH:this.remove(),e.preventDefault();break;case D.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Ct.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(yt.t4),t.Y36(k.Y2,8),t.Y36(t.sBO),t.Y36(B.K0),t.Y36(t.QbO,8),t.$8M("tabindex"))},i.\u0275dir=t.lG2({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,n,a){if(1&e&&(t.Suo(a,ot,5),t.Suo(a,at,5),t.Suo(a,nt,5)),2&e){let s;t.iGM(s=t.CRH())&&(n.avatar=s.first),t.iGM(s=t.CRH())&&(n.trailingIcon=s.first),t.iGM(s=t.CRH())&&(n.removeIcon=s.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,n){1&e&&t.NdJ("click",function(s){return n._handleClick(s)})("keydown",function(s){return n._handleKeydown(s)})("focus",function(){return n.focus()})("blur",function(){return n._blur()}),2&e&&(t.uIk("tabindex",n.disabled?null:n.tabIndex)("role",n.role)("disabled",n.disabled||null)("aria-disabled",n.disabled.toString())("aria-selected",n.ariaSelected),t.ekj("mat-chip-selected",n.selected)("mat-chip-with-avatar",n.avatar)("mat-chip-with-trailing-icon",n.trailingIcon||n.removeIcon)("mat-chip-disabled",n.disabled)("_mat-animation-noopable",n._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[t.qOj]}),i})(),st=(()=>{class i{constructor(e,n){this._parentChip=e,"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}_handleClick(e){const n=this._parentChip;n.removable&&!n.disabled&&n.remove(),e.stopPropagation(),e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(R),t.Y36(t.SBq))},i.\u0275dir=t.lG2({type:i,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,n){1&e&&t.NdJ("click",function(s){return n._handleClick(s)})},features:[t._Bn([{provide:nt,useExisting:i}])]}),i})();const rt=new t.OlP("mat-chips-default-options"),Pt=(0,k.FD)(class{constructor(i,o,e,n){this._defaultErrorStateMatcher=i,this._parentForm=o,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new I.x}});let Vt=0;class Qt{constructor(o,e){this.source=o,this.value=e}}let lt=(()=>{class i extends Pt{constructor(e,n,a,s,h,f,l){super(f,s,h,l),this._elementRef=e,this._changeDetectorRef=n,this._dir=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new I.x,this._uid="mat-chip-list-"+Vt++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(g,C)=>g===C,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new t.vpe,this.valueChange=new t.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,S.Ig)(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(U.kI.required)??!1}set required(e){this._required=(0,S.Ig)(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,S.Ig)(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=(0,S.Ig)(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,Y.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,Y.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,Y.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,Y.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new Mt.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,P.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe((0,P.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Nt.O)(null),(0,P.R)(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new kt.Ov(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const n=e.target;n&&n.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,n=!0){if(this._clearSelection(),this.chips.forEach(a=>a.deselect()),Array.isArray(e))e.forEach(a=>this._selectValue(a,n)),this._sortValues();else{const a=this._selectValue(e,n);a&&n&&this._keyManager.setActiveItem(a)}}_selectValue(e,n=!0){const a=this.chips.find(s=>null!=s.value&&this._compareWith(s.value,e));return a&&(n?a.selectViaInteraction():a.select(),this._selectionModel.select(a)),a}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(n=>{n!==e&&n.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let n=null;n=Array.isArray(this.selected)?this.selected.map(a=>a.value):this.selected?this.selected.value:e,this._value=n,this.change.emit(new Qt(this,n)),this.valueChange.emit(n),this._onChange(n),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(n=>{!this._selectionModel.isSelected(n)&&n.selected&&n.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let n=this.chips.toArray().indexOf(e.chip);this._isValidIndex(n)&&this._keyManager.updateActiveItem(n),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const n=e.chip,a=this.chips.toArray().indexOf(e.chip);this._isValidIndex(a)&&n._hasFocus&&(this._lastDestroyedChipIndex=a)})}_originatesFromChip(e){let n=e.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-chip"))return!0;n=n.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Zt.Is,8),t.Y36(U.F,8),t.Y36(U.sg,8),t.Y36(k.rD),t.Y36(U.a5,10))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-chip-list"]],contentQueries:function(e,n,a){if(1&e&&t.Suo(a,R,5),2&e){let s;t.iGM(s=t.CRH())&&(n.chips=s)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,n){1&e&&t.NdJ("focus",function(){return n.focus()})("blur",function(){return n._blur()})("keydown",function(s){return n._keydown(s)}),2&e&&(t.Ikx("id",n._uid),t.uIk("tabindex",n.disabled?null:n._tabIndex)("aria-required",n.role?n.required:null)("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-multiselectable",n.multiple)("role",n.role)("aria-orientation",n.ariaOrientation),t.ekj("mat-chip-list-disabled",n.disabled)("mat-chip-list-invalid",n.errorState)("mat-chip-list-required",n.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[t._Bn([{provide:G.Eo,useExisting:i}]),t.qOj],ngContentSelectors:St,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),i})(),qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[k.rD,{provide:rt,useValue:{separatorKeyCodes:[D.K5]}}],imports:[k.BQ]}),i})();const Bt=["chartNetValue"],Yt=["chartGrossMargin"],Ut=["chartQuantity"];function Rt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Top Performance")," ")}}function Lt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Top-performance-secondary")," ")}}function Jt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",e(n.combination.dimension.display)," ")}}function $t(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Client"))}}function jt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Totalizing-Family"))}}function Ht(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Movement-Family"))}}function Et(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Brand"))}}function Gt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Item"))}}function zt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Service"))}}function Kt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Seller"))}}function Wt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Market"))}}function Xt(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e("Country"))}}const N=function(i){return{color:i}};function te(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",44),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.removeTagFilter(s))})("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.toggleTagStatus(s))}),t._uU(1),t._UZ(2,"mat-icon",45),t.qZA()}if(2&i){const e=o.$implicit,n=t.oxw();t.Q6J("ngStyle",t.VKq(6,N,n.isFilterFor(e)?"var(--fuse-primary)":"var(--fuse-warn)"))("removable",!0)("selectable",!0)("matTooltip",e.filterStatus===n._FilterStatus.FOR?"Filter Out":"Filter For"),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:minus-circle")}}function ee(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Clear")," ")}}function ie(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resetFilter())}),t._UZ(1,"mat-icon",9),t.TgZ(2,"span",10),t.YNc(3,ee,2,1,"ng-container",5),t.qZA()()}2&i&&(t.Q6J("color","accent"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x-circle"))}function ne(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Net Value")," ")}}function oe(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Net-Value-section-secondary")," ")}}function ae(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",e(n.combination.dimension.display)," ")}}function se(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,ae,2,1,"ng-container",5),t.qZA())}function re(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",50),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.name)}}function le(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",52),t._uU(3,"Total"),t.qZA()()())}function ce(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Net Value")," ")}}function pe(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,ce,2,1,"ng-container",5),t.qZA())}function he(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",53),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.value)}}function ue(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalNetValue)}}function de(i,o){1&i&&(t.TgZ(0,"th",47),t._uU(1," % "),t.qZA())}function me(i,o){1&i&&(t.TgZ(0,"span",59),t._UZ(1,"span",60),t.qZA())}function fe(i,o){1&i&&(t.TgZ(0,"span",61),t._UZ(1,"span",62),t.qZA())}function _e(i,o){1&i&&(t.TgZ(0,"span",63),t._UZ(1,"span",64),t.qZA())}function ge(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span"),t.YNc(3,me,2,0,"span",55),t.YNc(4,fe,2,0,"span",56),t.YNc(5,_e,2,0,"span",57),t.qZA(),t.TgZ(6,"span",58),t._uU(7),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",e.prop.percentage_value<5),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=5&&e.prop.percentage_value<10),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=10),t.xp6(1),t.Q6J("ngStyle",t.VKq(5,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.prop.percentage)}}function be(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalNetValuePercentage)}}function Te(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter")," ")}}function xe(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,Te,2,1,"ng-container",5),t.qZA())}function ve(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-for")," ")}}function ye(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-out")," ")}}function Ce(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"span",49)(2,"span",53)(3,"button",65),t._UZ(4,"mat-icon",9),t.qZA(),t.TgZ(5,"mat-menu",null,66)(7,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterFor(s))}),t.YNc(8,ve,2,1,"ng-container",5),t.qZA(),t.TgZ(9,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterOut(s))}),t.YNc(10,ye,2,1,"ng-container",5),t.qZA()()()()()}if(2&i){const e=o.$implicit,n=t.MAs(6),a=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(7,N,a.config.colors.dark)),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:dots-vertical"),t.xp6(3),t.ekj("text-primary",a.isFilterFor(e)),t.xp6(2),t.ekj("text-warn",a.isFilterOut(e))}}function Ne(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49),t._UZ(2,"span",54),t.qZA()())}function Me(i,o){1&i&&t._UZ(0,"tr",67)}const J=function(i){return{"background-color":i}};function Ze(i,o){if(1&i&&t._UZ(0,"tr",68),2&i){const e=o.$implicit;t.Q6J("ngStyle",t.VKq(2,J,e.color))("matTooltip",e.tooltip)}}function ke(i,o){1&i&&t._UZ(0,"tr",51)}function Se(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Gross Margin")," ")}}function we(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Gross-margin-section-secondary")," ")}}function Oe(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",e(n.combination.dimension.display)," ")}}function De(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,Oe,2,1,"ng-container",5),t.qZA())}function Ae(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",50),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.name)}}function Pe(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",52),t._uU(3,"Total"),t.qZA()()())}function Ve(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Gross Margin")," ")}}function Qe(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,Ve,2,1,"ng-container",5),t.qZA())}function Ie(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",53),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.value)}}function Fe(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalGrossMargin)}}function qe(i,o){1&i&&(t.TgZ(0,"th",47),t._uU(1," % "),t.qZA())}function Be(i,o){1&i&&(t.TgZ(0,"span",59),t._UZ(1,"span",60),t.qZA())}function Ye(i,o){1&i&&(t.TgZ(0,"span",61),t._UZ(1,"span",62),t.qZA())}function Ue(i,o){1&i&&(t.TgZ(0,"span",63),t._UZ(1,"span",64),t.qZA())}function Re(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span"),t.YNc(3,Be,2,0,"span",55),t.YNc(4,Ye,2,0,"span",56),t.YNc(5,Ue,2,0,"span",57),t.qZA(),t.TgZ(6,"span",58),t._uU(7),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",e.prop.percentage_value<5),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=5&&e.prop.percentage_value<10),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=10),t.xp6(1),t.Q6J("ngStyle",t.VKq(5,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.prop.percentage)}}function Le(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalGrossMarginPercentage)}}function Je(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter")," ")}}function $e(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,Je,2,1,"ng-container",5),t.qZA())}function je(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-for")," ")}}function He(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-out")," ")}}function Ee(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"span",49)(2,"span",53)(3,"button",65),t._UZ(4,"mat-icon",9),t.qZA(),t.TgZ(5,"mat-menu",null,66)(7,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterFor(s))}),t.YNc(8,je,2,1,"ng-container",5),t.qZA(),t.TgZ(9,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterOut(s))}),t.YNc(10,He,2,1,"ng-container",5),t.qZA()()()()()}if(2&i){const e=o.$implicit,n=t.MAs(6),a=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(7,N,a.config.colors.dark)),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:dots-vertical"),t.xp6(3),t.ekj("text-primary",a.isFilterFor(e)),t.xp6(2),t.ekj("text-warn",a.isFilterOut(e))}}function Ge(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49),t._UZ(2,"span",54),t.qZA()())}function ze(i,o){1&i&&t._UZ(0,"tr",67)}function Ke(i,o){if(1&i&&t._UZ(0,"tr",68),2&i){const e=o.$implicit;t.Q6J("ngStyle",t.VKq(2,J,e.color))("matTooltip",e.tooltip)}}function We(i,o){1&i&&t._UZ(0,"tr",51)}function Xe(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Quantities")," ")}}function ti(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Quantities-section-secondary")," ")}}function ei(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",e(n.combination.dimension.display)," ")}}function ii(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,ei,2,1,"ng-container",5),t.qZA())}function ni(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",50),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.name)}}function oi(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",52),t._uU(3,"Total"),t.qZA()()())}function ai(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Quantity")," ")}}function si(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,ai,2,1,"ng-container",5),t.qZA())}function ri(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span",53),t._uU(3),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(2,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.value)}}function li(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalQuantity)}}function ci(i,o){1&i&&(t.TgZ(0,"th",47),t._uU(1," % "),t.qZA())}function pi(i,o){1&i&&(t.TgZ(0,"span",59),t._UZ(1,"span",60),t.qZA())}function hi(i,o){1&i&&(t.TgZ(0,"span",61),t._UZ(1,"span",62),t.qZA())}function ui(i,o){1&i&&(t.TgZ(0,"span",63),t._UZ(1,"span",64),t.qZA())}function di(i,o){if(1&i&&(t.TgZ(0,"td",48)(1,"span",49)(2,"span"),t.YNc(3,pi,2,0,"span",55),t.YNc(4,hi,2,0,"span",56),t.YNc(5,ui,2,0,"span",57),t.qZA(),t.TgZ(6,"span",58),t._uU(7),t.qZA()()()),2&i){const e=o.$implicit,n=t.oxw();t.xp6(3),t.Q6J("ngIf",e.prop.percentage_value<5),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=5&&e.prop.percentage_value<10),t.xp6(1),t.Q6J("ngIf",e.prop.percentage_value>=10),t.xp6(1),t.Q6J("ngStyle",t.VKq(5,N,n.config.colors.dark)),t.xp6(1),t.Oqu(e.prop.percentage)}}function mi(i,o){if(1&i&&(t.TgZ(0,"td",51)(1,"span",49)(2,"span",54),t._uU(3),t.qZA()()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(e.totalQuantityPercentage)}}function fi(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter")," ")}}function _i(i,o){1&i&&(t.TgZ(0,"th",47),t.YNc(1,fi,2,1,"ng-container",5),t.qZA())}function gi(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-for")," ")}}function bi(i,o){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=o.$implicit;t.xp6(1),t.hij(" ",e("Filter-out")," ")}}function Ti(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"td",48)(1,"span",49)(2,"span",53)(3,"button",65),t._UZ(4,"mat-icon",9),t.qZA(),t.TgZ(5,"mat-menu",null,66)(7,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterFor(s))}),t.YNc(8,gi,2,1,"ng-container",5),t.qZA(),t.TgZ(9,"button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.setFilterOut(s))}),t.YNc(10,bi,2,1,"ng-container",5),t.qZA()()()()()}if(2&i){const e=o.$implicit,n=t.MAs(6),a=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(7,N,a.config.colors.dark)),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:dots-vertical"),t.xp6(3),t.ekj("text-primary",a.isFilterFor(e)),t.xp6(2),t.ekj("text-warn",a.isFilterOut(e))}}function xi(i,o){1&i&&(t.TgZ(0,"td",51)(1,"span",49),t._UZ(2,"span",54),t.qZA()())}function vi(i,o){1&i&&t._UZ(0,"tr",67)}function yi(i,o){if(1&i&&t._UZ(0,"tr",68),2&i){const e=o.$implicit;t.Q6J("ngStyle",t.VKq(2,J,e.color))("matTooltip",e.tooltip)}}function Ci(i,o){1&i&&t._UZ(0,"tr",51)}const Ni=[{path:"",component:(()=>{class i{constructor(e,n,a,s,h,f){this._TopPerformanceService=e,this._router=n,this._fuseConfigService=a,this._filterMenuService=s,this.changeDetector=h,this.translocoService=f,this.combination={dimension:{variable:"NomeCliente",display:"Client"},top:"10"},this.chartNetValueOp={},this.chartGrossMarginOp={},this.chartQuantityOp={},this._FilterStatus=O.f,this._unsubscribeAll=new I.x,this._filterMenuService.filter$.subscribe(l=>{this._filter=l.filter})}ngOnInit(){this._fuseConfigService.config$.pipe((0,P.R)(this._unsubscribeAll)).subscribe(e=>{this.config=e}),this._TopPerformanceService.data$.pipe((0,P.R)(this._unsubscribeAll)).subscribe(e=>{e&&(this.data=e,this._prepareChartData(this._filter))}),this._filterMenuService.filter$.pipe((0,P.R)(this._unsubscribeAll)).subscribe(e=>{this._filter=e.filter,e.propagate&&this._updateData(e.filter)}),window.Apex={chart:{events:{mounted:(e,n)=>{this._fixSvgFill(e.el)},updated:(e,n)=>{this._fixSvgFill(e.el)}}}}}_updateData(e){this.data$=this._TopPerformanceService.searchData(e,this.combination.dimension.variable,this.combination.top),this.data$.pipe((0,P.R)(this._unsubscribeAll)).subscribe(n=>{this.data=n,this._updateChartData(e)})}ngOnDestroy(){this.resetFilter(),this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}setDimension(e,n){this.combination.dimension.variable=e,this.combination.dimension.display=n,this._updateData(this._filter)}setTop(e){this.combination.top=e,this._updateData(this._filter)}setFilterFor(e){this._filterMenuService.setFilterFor(e)}setFilterOut(e){this._filterMenuService.setFilterOut(e)}isFilterFor(e){return this._filterMenuService.isFilterFor(e)}isFilterOut(e){return this._filterMenuService.isFilterOut(e)}toggleTagStatus(e){this._filterMenuService.toggleTagFilterStatus(e)}isFiltered(){return this._filterMenuService.getTagByProp("type","Top").length>0}getTopFilters(){return this._filterMenuService.getTagByProp("type","Top")}resetFilter(){this._filterMenuService.reset()}removeTagFilter(e){this._filterMenuService.removeCustomTag(e)}trackByFn(e,n){return n.id||e}_fixSvgFill(e){const n=this._router.url;Array.from(e.querySelectorAll("*[fill]")).filter(a=>-1!==a.getAttribute("fill").indexOf("url(")).forEach(a=>{const s=a.getAttribute("fill");a.setAttribute("fill",`url(${n}${s.slice(s.indexOf("#"))}`)})}_prepareChartData(e){let n=this.data[this.combination.dimension.variable].ValorLiquidoVenda;this.chartNetValueOp={chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},height:550,width:"95%",type:"bar",stacked:!1,parentHeightOffset:0,toolbar:{show:!1},events:{click:function(c,r,u){let _=u.config,d=_.series[u.seriesIndex];d&&console.log({date:_.xaxis.longCategories[u.dataPointIndex],VendasGrupo:d.name})}}},colors:[this.config.colors.sales.netValue,this.config.colors.sales.grossMargin],dataLabels:{enabled:!1},fill:{opacity:1},grid:{borderColor:this.config.colors.borderColor},legend:{show:!0,position:"top",horizontalAlign:"left",fontSize:this.config.legend.fontSize,markers:{height:8,width:8,radius:12,offsetX:-3},labels:{colors:this.config.colors.axisColor},itemMargin:{horizontal:10}},plotOptions:{bar:{horizontal:!0,barHeight:"100%",columnWidth:"100%",borderRadius:10}},series:[{name:this.translocoService.translate("Net Value"),data:n.value},{name:this.translocoService.translate("Gross Margin"),data:n.margin}],stroke:{show:!0,colors:["transparent"],curve:"smooth",width:6,lineCap:"round"},tooltip:{followCursor:!0,theme:"light",shared:!0,intersect:!1,x:{formatter:(c,r)=>r.w.config.xaxis.longCategories[r.dataPointIndex]},y:{formatter:(c,r)=>{let u=m.f.shortNumber("currency",e.currency.code,c);return 1==r.seriesIndex&&(u+=" ("+m.f.shortNumber("percentage",null,c/r.series[0][r.dataPointIndex])+")"),u}}},xaxis:{categories:n.dimensionData.short,longCategories:n.dimensionData.long,labels:{show:!0,trim:!1,minHeight:50,maxHeight:250,style:{fontSize:"13px",colors:this.config.colors.axisColor},formatter:function(c){return m.f.shortNumber("currency",e.currency.code,c)}},axisTicks:{show:!1},axisBorder:{show:!1},tooltip:{enabled:!0}},yaxis:{labels:{show:!0,minWidth:0,maxWidth:400,style:{fontSize:"13px",colors:this.config.colors.axisColor},offsetX:0,offsetY:0,formatter:function(c){return m.f.shortNumber("currency",e.currency.code,c)}}},responsive:[{breakpoint:768,options:{yaxis:{labels:{maxWidth:150}}}},{breakpoint:420,options:{yaxis:{labels:{maxWidth:100}}}}],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}}},this.tableNetValue={datasource:{columns:["Dimension","Net Value","%","Options"],rows:[],footer:[]}};let a=0,s=0,h=0,f=n.value.reduce((c,r)=>c+r);for(let c of n.dimensionData.long){let r=c,u=n.value[a],_=0!=f?u/f:0,d=m.f.shortNumber("percentage",null,_);s+=_,h+=u;let T=m.f.shortNumber("currency_short",e.currency.code,u),b=this.combination.dimension.variable+":"+r;this.tableNetValue.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),a++}this.totalNetValue=m.f.shortNumber("currency_short",e.currency.code,h),this.totalNetValuePercentage=m.f.shortNumber("percentage",null,s);let l=this.data[this.combination.dimension.variable].ValorMargem;this.chartGrossMarginOp={chart:{height:550,width:"95%",type:"bar",stacked:!1,parentHeightOffset:0,toolbar:{show:!1},events:{click:function(c,r,u){let _=u.config,d=_.series[u.seriesIndex];d&&console.log({date:_.xaxis.longCategories[u.dataPointIndex],VendasGrupo:d.name})}}},colors:[this.config.colors.sales.grossMargin],dataLabels:{enabled:!1},fill:{opacity:1},grid:{borderColor:this.config.colors.borderColor},legend:{show:!0,position:"top",horizontalAlign:"left",fontSize:this.config.legend.fontSize,markers:{height:8,width:8,radius:12,offsetX:-3},labels:{colors:this.config.colors.axisColor},itemMargin:{horizontal:10}},plotOptions:{bar:{horizontal:!0,barHeight:"100%",columnWidth:"100%",borderRadius:10}},series:[{name:this.translocoService.translate("Gross Margin"),data:l.value}],stroke:{show:!0,colors:["transparent"],curve:"smooth",width:6,lineCap:"round"},tooltip:{followCursor:!0,theme:"light",shared:!0,intersect:!1,x:{formatter:(c,r)=>r.w.config.xaxis.longCategories[r.dataPointIndex]},y:{formatter:(c,r)=>{let u=m.f.shortNumber("currency",e.currency.code,c);return 1==r.seriesIndex&&(u+=" ("+m.f.shortNumber("percentage",null,c/r.series[0][r.dataPointIndex])+")"),u}}},xaxis:{categories:l.dimensionData.short,longCategories:l.dimensionData.long,labels:{show:!0,trim:!1,minHeight:50,maxHeight:350,style:{fontSize:"13px",colors:this.config.colors.axisColor},formatter:function(c){return m.f.shortNumber("currency",e.currency.code,c)}},axisTicks:{show:!1},axisBorder:{show:!1},tooltip:{enabled:!0}},yaxis:{labels:{show:!0,minWidth:0,maxWidth:400,style:{fontSize:"13px",colors:this.config.colors.axisColor},offsetX:0,offsetY:0,formatter:function(c){return m.f.shortNumber("currency",e.currency.code,c)}}},responsive:[{breakpoint:768,options:{yaxis:{labels:{maxWidth:150}}}},{breakpoint:420,options:{yaxis:{labels:{maxWidth:100}}}}],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}}},this.tableGrossMargin={datasource:{columns:["Dimension","Gross Margin","%","Options"],rows:[],footer:[]}};let g=0,C=0,M=0,w=l.value.reduce((c,r)=>c+r);for(let c of l.dimensionData.long){let r=c,u=l.value[g],_=0!=w?u/w:0,d=m.f.shortNumber("percentage",null,_);C+=_,M+=u;let T=m.f.shortNumber("currency_short",e.currency.code,u),b=this.combination.dimension.variable+":"+r;this.tableGrossMargin.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),g++}this.totalGrossMargin=m.f.shortNumber("currency_short",e.currency.code,M),this.totalGrossMarginPercentage=m.f.shortNumber("percentage",null,C);let x=this.data[this.combination.dimension.variable].QuantidadeVenda;this.chartQuantityOp={chart:{height:550,width:"95%",type:"bar",stacked:!1,parentHeightOffset:0,toolbar:{show:!1},events:{click:function(c,r,u){let _=u.config,d=_.series[u.seriesIndex];d&&console.log({date:_.xaxis.longCategories[u.dataPointIndex],VendasGrupo:d.name})}}},colors:[this.config.colors.sales.quantity],dataLabels:{enabled:!1},fill:{opacity:1},grid:{borderColor:this.config.colors.borderColor},legend:{show:!0,position:"top",horizontalAlign:"left",fontSize:this.config.legend.fontSize,markers:{height:8,width:8,radius:12,offsetX:-3},labels:{colors:this.config.colors.axisColor},itemMargin:{horizontal:10}},plotOptions:{bar:{horizontal:!0,barHeight:"100%",columnWidth:"100%",borderRadius:10}},series:[{name:this.translocoService.translate("Quantity"),data:x.value}],stroke:{show:!0,colors:["transparent"],curve:"smooth",width:6,lineCap:"round"},tooltip:{followCursor:!0,theme:"light",shared:!0,intersect:!1,x:{formatter:(c,r)=>r.w.config.xaxis.longCategories[r.dataPointIndex]},y:{formatter:(c,r)=>m.f.shortNumber("number",null,c)}},xaxis:{categories:x.dimensionData.short,longCategories:x.dimensionData.long,labels:{show:!0,trim:!1,minHeight:50,maxHeight:250,style:{fontSize:"13px",colors:this.config.colors.axisColor},formatter:function(c){return m.f.shortNumber("number",null,c)}},axisTicks:{show:!1},axisBorder:{show:!1},tooltip:{enabled:!0}},yaxis:{labels:{show:!0,minWidth:0,maxWidth:400,style:{fontSize:"13px",colors:this.config.colors.axisColor},offsetX:0,offsetY:0}},responsive:[{breakpoint:768,options:{yaxis:{labels:{maxWidth:150}}}},{breakpoint:420,options:{yaxis:{labels:{maxWidth:100}}}}],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}}},this.tableQuantity={datasource:{columns:["Dimension","Quantity","%","Options"],rows:[],footer:[]}};let A=0,V=0,Z=0,F=x.value.reduce((c,r)=>c+r);for(let c of x.dimensionData.long){let r=c,u=x.value[A],_=0!=F?u/F:0,d=m.f.shortNumber("percentage",null,_);V+=_,Z+=u;let T=m.f.shortNumber("number",null,u),b=this.combination.dimension.variable+":"+r;this.tableQuantity.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),A++}this.totalQuantity=m.f.shortNumber("number",null,Z),this.totalQuantityPercentage=m.f.shortNumber("percentage",null,V)}_updateChartData(e){let n=this.data[this.combination.dimension.variable].ValorLiquidoVenda;this.chartNetValue.updateOptions({series:[{name:this.translocoService.translate("Net Value"),data:n.value},{name:this.translocoService.translate("Gross Margin"),data:n.margin}],xaxis:{categories:n.dimensionData.short,longCategories:n.dimensionData.long}}),this.tableNetValue={datasource:{columns:["Dimension","Net Value","%","Options"],rows:[],footer:[]}};let a=0,s=0,h=0,f=n.value.reduce((c,r)=>c+r);for(let c of n.dimensionData.long){let r=c,u=n.value[a],_=0!=f?u/f:0,d=m.f.shortNumber("percentage",null,_);s+=_,h+=u;let T=m.f.shortNumber("currency_short",e.currency.code,u),b=this.combination.dimension.variable+":"+r;this.tableNetValue.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),a++}this.totalNetValue=m.f.shortNumber("currency_short",e.currency.code,h),this.totalNetValuePercentage=m.f.shortNumber("percentage",null,s);let l=this.data[this.combination.dimension.variable].ValorLiquidoVenda;this.chartGrossMargin.updateOptions({series:[{name:this.translocoService.translate("Gross Margin"),data:l.value}],xaxis:{categories:l.dimensionData.short,longCategories:l.dimensionData.long}}),this.tableGrossMargin={datasource:{columns:["Dimension","Gross Margin","%","Options"],rows:[],footer:[]}};let g=0,C=0,M=0,w=l.value.reduce((c,r)=>c+r);for(let c of l.dimensionData.long){let r=c,u=l.value[g],_=0!=w?u/w:0,d=m.f.shortNumber("percentage",null,_);C+=_,M+=u;let T=m.f.shortNumber("currency_short",e.currency.code,u),b=this.combination.dimension.variable+":"+r;this.tableGrossMargin.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),g++}this.totalGrossMargin=m.f.shortNumber("currency_short",e.currency.code,M),this.totalGrossMarginPercentage=m.f.shortNumber("percentage",null,C);let x=this.data[this.combination.dimension.variable].QuantidadeVenda;this.chartQuantity.updateOptions({series:[{name:this.translocoService.translate("Quantity"),data:x.value}],xaxis:{categories:x.dimensionData.short,longCategories:x.dimensionData.long}}),this.tableQuantity={datasource:{columns:["Dimension","Quantity","%","Options"],rows:[],footer:[]}};let A=0,V=0,Z=0,F=x.value.reduce((c,r)=>c+r);for(let c of x.dimensionData.long){let r=c,u=x.value[A],_=0!=F?u/F:0,d=m.f.shortNumber("percentage",null,_);V+=_,Z+=u;let T=m.f.shortNumber("number",null,u),b=this.combination.dimension.variable+":"+r;this.tableQuantity.datasource.rows.push({id:b,color:a%2?"transparent":this.config.colors.grey,name:r,value:T,filterStatus:O.f.NO,selected:!1,searchData:b,prop:{type:"Top",percentage:d,percentage_value:d.split("%")[0],tooltip:r+" | "+T+" | "+d}}),A++}this.totalQuantity=m.f.shortNumber("number",null,Z),this.totalQuantityPercentage=m.f.shortNumber("percentage",null,V),this.changeDetector.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(tt),t.Y36(j.F0),t.Y36(vt.m),t.Y36(et.a),t.Y36(t.sBO),t.Y36(L.Vn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["topperformance"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Bt,5),t.Gf(Yt,5),t.Gf(Ut,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.chartNetValue=a.first),t.iGM(a=t.CRH())&&(n.chartGrossMargin=a.first),t.iGM(a=t.CRH())&&(n.chartQuantity=a.first)}},decls:146,vars:60,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","mx-auto"],[1,"grid","lg:grid-cols-2","sm:grid-cols-1","gap-4","flex","items-center","justify-between","w-full"],[1,"lg:text-left","sm:text-justify"],[1,"text-2xl","font-semibold","tracking-tight","leading-8"],[4,"transloco"],[1,"font-medium","tracking-tight","text-secondary"],[1,"text-right"],["mat-flat-button","","matTooltip","Select Dimension",1,"ml-3",3,"color","matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["collectionMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-flat-button","","matTooltip","Select Top Limit",1,"ml-3",3,"color","matMenuTriggerFor"],["topMenu","matMenu"],[1,"grid","lg:grid-cols-4","sm:grid-cols-3","gap-4","mt-8","flex","items-center","justify-between","w-full"],[1,"lg:col-span-3","sm:col-span-2","text-left"],["customFilter",""],["class","text-left text-xs cursor-pointer",3,"ngStyle","removable","selectable","matTooltip","removed","click",4,"ngFor","ngForOf"],[1,"col-span-1","text-right"],["mat-stroked-button","","matTooltip","Clear Selection",3,"color","click",4,"ngIf"],[1,"w-full","mt-8"],[1,"text-2xl","font-semibold","tracking-tight","leading-6"],[1,"flex","flex-col","flex-auto","mt-8","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","flex-col","flex-auto","h-auto","mt-3"],[1,"flex","flex-col","flex-auto","p-2"],[1,"flex-auto","w-full","h-full",3,"chart","colors","dataLabels","fill","grid","legend","plotOptions","series","stroke","tooltip","xaxis","yaxis","responsive"],["chartNetValue",""],[1,"flex","flex-col","flex-auto","h-full","mt-3"],["mat-table","",1,"table-auto","overflow-y-visible",3,"dataSource"],["matColumnDef","Dimension","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-row","",4,"matFooterCellDef"],["matColumnDef","Net Value","sticky",""],["matColumnDef","%","sticky",""],["matColumnDef","Options","stickyEnd",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","w-2 h-8 rounded-full hover:bg-primary-100",3,"ngStyle","matTooltip",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["chartGrossMargin",""],["matColumnDef","Gross Margin","sticky",""],["chartQuantity",""],["matColumnDef","Quantity","sticky",""],[1,"text-left","text-xs","cursor-pointer",3,"ngStyle","removable","selectable","matTooltip","removed","click"],["matChipRemove","","matTooltip","Remove filter",1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","","matTooltip","Clear Selection",3,"color","click"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center"],[1,"ml-1","leading-4","break-words",3,"ngStyle"],["mat-footer-row",""],[1,"ml-1","leading-4","pl-6","font-medium"],[1,"ml-1","leading-4",3,"ngStyle"],[1,"ml-1","leading-4","font-medium"],["class","flex items-end w-1 h-4 bg-red-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end w-1 h-4 bg-orange-200 rounded overflow-hidden",4,"ngIf"],["class","flex items-end w-1 h-4 bg-green-100 rounded overflow-hidden",4,"ngIf"],[1,"ml-3","leading-4",3,"ngStyle"],[1,"flex","items-end","w-1","h-4","bg-red-200","rounded","overflow-hidden"],[1,"flex","w-full","h-1/3","bg-red-600"],[1,"flex","items-end","w-1","h-4","bg-orange-200","rounded","overflow-hidden"],[1,"flex","w-full","h-2/4","bg-orange-400"],[1,"flex","items-end","w-1","h-4","bg-green-100","rounded","overflow-hidden"],[1,"flex","w-full","h-full","bg-green-400"],["mat-icon-button","",3,"matMenuTriggerFor"],["summaryMenu","matMenu"],["mat-header-row",""],["mat-row","",1,"w-2","h-8","rounded-full","hover:bg-primary-100",3,"ngStyle","matTooltip"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,Rt,2,1,"ng-container",5),t.qZA(),t.TgZ(6,"div",6),t.YNc(7,Lt,2,1,"ng-container",5),t.qZA()(),t.TgZ(8,"div",7)(9,"div")(10,"button",8),t._UZ(11,"mat-icon",9),t.TgZ(12,"span",10),t.YNc(13,Jt,2,1,"ng-container",5),t.qZA()(),t.TgZ(14,"mat-menu",null,11)(16,"button",12),t.NdJ("click",function(){return n.setDimension("NomeCliente","Client")}),t.YNc(17,$t,2,1,"ng-container",5),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return n.setDimension("NomeFamiliaNivel_1","Totalizing-Family")}),t.YNc(19,jt,2,1,"ng-container",5),t.qZA(),t.TgZ(20,"button",12),t.NdJ("click",function(){return n.setDimension("NomeFamiliaNivel_0","Movement-Family")}),t.YNc(21,Ht,2,1,"ng-container",5),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return n.setDimension("NomeMarca","Brand")}),t.YNc(23,Et,2,1,"ng-container",5),t.qZA(),t.TgZ(24,"button",12),t.NdJ("click",function(){return n.setDimension("NomeArtigoServico","Item")}),t.YNc(25,Gt,2,1,"ng-container",5),t.qZA(),t.TgZ(26,"button",12),t.NdJ("click",function(){return n.setDimension("NomeArtigoServico","Service")}),t.YNc(27,zt,2,1,"ng-container",5),t.qZA(),t.TgZ(28,"button",12),t.NdJ("click",function(){return n.setDimension("NomeVendedor","Seller")}),t.YNc(29,Kt,2,1,"ng-container",5),t.qZA(),t.TgZ(30,"button",12),t.NdJ("click",function(){return n.setDimension("NomeMercado","Market")}),t.YNc(31,Wt,2,1,"ng-container",5),t.qZA(),t.TgZ(32,"button",12),t.NdJ("click",function(){return n.setDimension("NomePais","Country")}),t.YNc(33,Xt,2,1,"ng-container",5),t.qZA()(),t.TgZ(34,"button",13),t._UZ(35,"mat-icon",9),t.TgZ(36,"span",10),t._uU(37),t.qZA()(),t.TgZ(38,"mat-menu",null,14)(40,"button",12),t.NdJ("click",function(){return n.setTop("10")}),t._uU(41,"Top 10"),t.qZA(),t.TgZ(42,"button",12),t.NdJ("click",function(){return n.setTop("20")}),t._uU(43,"Top 20"),t.qZA(),t.TgZ(44,"button",12),t.NdJ("click",function(){return n.setTop("50")}),t._uU(45,"Top 50"),t.qZA()()()()(),t.TgZ(46,"div",15)(47,"div",16)(48,"mat-chip-list",null,17),t.YNc(50,te,3,8,"mat-chip",18),t.qZA()(),t.TgZ(51,"div",19),t.YNc(52,ie,4,2,"button",20),t.qZA()(),t.TgZ(53,"div",21)(54,"div",22),t.YNc(55,ne,2,1,"ng-container",5),t.qZA(),t.TgZ(56,"div",6),t.YNc(57,oe,2,1,"ng-container",5),t.qZA()(),t.TgZ(58,"div",23)(59,"div",24)(60,"div",25),t._UZ(61,"apx-chart",26,27),t.qZA()(),t.TgZ(63,"div",28)(64,"table",29),t.ynx(65,30),t.YNc(66,se,2,0,"th",31),t.YNc(67,re,4,4,"td",32),t.YNc(68,le,4,0,"td",33),t.BQk(),t.ynx(69,34),t.YNc(70,pe,2,0,"th",31),t.YNc(71,he,4,4,"td",32),t.YNc(72,ue,4,1,"td",33),t.BQk(),t.ynx(73,35),t.YNc(74,de,2,0,"th",31),t.YNc(75,ge,8,7,"td",32),t.YNc(76,be,4,1,"td",33),t.BQk(),t.ynx(77,36),t.YNc(78,xe,2,0,"th",31),t.YNc(79,Ce,11,9,"td",32),t.YNc(80,Ne,3,0,"td",33),t.BQk(),t.YNc(81,Me,1,0,"tr",37),t.YNc(82,Ze,1,4,"tr",38),t.YNc(83,ke,1,0,"tr",39),t.qZA()()(),t.TgZ(84,"div",21)(85,"div",22),t.YNc(86,Se,2,1,"ng-container",5),t.qZA(),t.TgZ(87,"div",6),t.YNc(88,we,2,1,"ng-container",5),t.qZA()(),t.TgZ(89,"div",23)(90,"div",24)(91,"div",25),t._UZ(92,"apx-chart",26,40),t.qZA()(),t.TgZ(94,"div",28)(95,"table",29),t.ynx(96,30),t.YNc(97,De,2,0,"th",31),t.YNc(98,Ae,4,4,"td",32),t.YNc(99,Pe,4,0,"td",33),t.BQk(),t.ynx(100,41),t.YNc(101,Qe,2,0,"th",31),t.YNc(102,Ie,4,4,"td",32),t.YNc(103,Fe,4,1,"td",33),t.BQk(),t.ynx(104,35),t.YNc(105,qe,2,0,"th",31),t.YNc(106,Re,8,7,"td",32),t.YNc(107,Le,4,1,"td",33),t.BQk(),t.ynx(108,36),t.YNc(109,$e,2,0,"th",31),t.YNc(110,Ee,11,9,"td",32),t.YNc(111,Ge,3,0,"td",33),t.BQk(),t.YNc(112,ze,1,0,"tr",37),t.YNc(113,Ke,1,4,"tr",38),t.YNc(114,We,1,0,"tr",39),t.qZA()()(),t.TgZ(115,"div",21)(116,"div",22),t.YNc(117,Xe,2,1,"ng-container",5),t.qZA(),t.TgZ(118,"div",6),t.YNc(119,ti,2,1,"ng-container",5),t.qZA()(),t.TgZ(120,"div",23)(121,"div",24)(122,"div",25),t._UZ(123,"apx-chart",26,42),t.qZA()(),t.TgZ(125,"div",28)(126,"table",29),t.ynx(127,30),t.YNc(128,ii,2,0,"th",31),t.YNc(129,ni,4,4,"td",32),t.YNc(130,oi,4,0,"td",33),t.BQk(),t.ynx(131,43),t.YNc(132,si,2,0,"th",31),t.YNc(133,ri,4,4,"td",32),t.YNc(134,li,4,1,"td",33),t.BQk(),t.ynx(135,35),t.YNc(136,ci,2,0,"th",31),t.YNc(137,di,8,7,"td",32),t.YNc(138,mi,4,1,"td",33),t.BQk(),t.ynx(139,36),t.YNc(140,_i,2,0,"th",31),t.YNc(141,Ti,11,9,"td",32),t.YNc(142,xi,3,0,"td",33),t.BQk(),t.YNc(143,vi,1,0,"tr",37),t.YNc(144,yi,1,4,"tr",38),t.YNc(145,Ci,1,0,"tr",39),t.qZA()()()()()),2&e){const a=t.MAs(15),s=t.MAs(39);t.xp6(10),t.Q6J("color","primary")("matMenuTriggerFor",a),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:collection"),t.xp6(23),t.Q6J("color","accent")("matMenuTriggerFor",s),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:sort-descending"),t.xp6(2),t.hij("Top ",n.combination.top,""),t.xp6(13),t.Q6J("ngForOf",n.getTopFilters()),t.xp6(2),t.Q6J("ngIf",n.isFiltered()),t.xp6(9),t.Q6J("chart",n.chartNetValueOp.chart)("colors",n.chartNetValueOp.colors)("dataLabels",n.chartNetValueOp.dataLabels)("fill",n.chartNetValueOp.fill)("grid",n.chartNetValueOp.grid)("legend",n.chartNetValueOp.legend)("plotOptions",n.chartNetValueOp.plotOptions)("series",n.chartNetValueOp.series)("stroke",n.chartNetValueOp.stroke)("tooltip",n.chartNetValueOp.tooltip)("xaxis",n.chartNetValueOp.xaxis)("yaxis",n.chartNetValueOp.yaxis)("responsive",n.chartNetValueOp.responsive),t.xp6(3),t.Q6J("dataSource",n.tableNetValue.datasource.rows),t.xp6(17),t.Q6J("matHeaderRowDef",n.tableNetValue.datasource.columns),t.xp6(1),t.Q6J("matRowDefColumns",n.tableNetValue.datasource.columns),t.xp6(1),t.Q6J("matFooterRowDef",n.tableNetValue.datasource.columns),t.xp6(9),t.Q6J("chart",n.chartGrossMarginOp.chart)("colors",n.chartGrossMarginOp.colors)("dataLabels",n.chartGrossMarginOp.dataLabels)("fill",n.chartGrossMarginOp.fill)("grid",n.chartGrossMarginOp.grid)("legend",n.chartGrossMarginOp.legend)("plotOptions",n.chartGrossMarginOp.plotOptions)("series",n.chartGrossMarginOp.series)("stroke",n.chartGrossMarginOp.stroke)("tooltip",n.chartGrossMarginOp.tooltip)("xaxis",n.chartGrossMarginOp.xaxis)("yaxis",n.chartGrossMarginOp.yaxis)("responsive",n.chartGrossMarginOp.responsive),t.xp6(3),t.Q6J("dataSource",n.tableGrossMargin.datasource.rows),t.xp6(17),t.Q6J("matHeaderRowDef",n.tableGrossMargin.datasource.columns),t.xp6(1),t.Q6J("matRowDefColumns",n.tableGrossMargin.datasource.columns),t.xp6(1),t.Q6J("matFooterRowDef",n.tableGrossMargin.datasource.columns),t.xp6(9),t.Q6J("chart",n.chartQuantityOp.chart)("colors",n.chartQuantityOp.colors)("dataLabels",n.chartQuantityOp.dataLabels)("fill",n.chartQuantityOp.fill)("grid",n.chartQuantityOp.grid)("legend",n.chartQuantityOp.legend)("plotOptions",n.chartQuantityOp.plotOptions)("series",n.chartQuantityOp.series)("stroke",n.chartQuantityOp.stroke)("tooltip",n.chartQuantityOp.tooltip)("xaxis",n.chartQuantityOp.xaxis)("yaxis",n.chartQuantityOp.yaxis)("responsive",n.chartQuantityOp.responsive),t.xp6(3),t.Q6J("dataSource",n.tableQuantity.datasource.rows),t.xp6(17),t.Q6J("matHeaderRowDef",n.tableQuantity.datasource.columns),t.xp6(1),t.Q6J("matRowDefColumns",n.tableQuantity.datasource.columns),t.xp6(1),t.Q6J("matFooterRowDef",n.tableQuantity.datasource.columns)}},dependencies:[H.lW,E.Hw,q.VK,q.OP,q.p6,y.BZ,y.fO,y.as,y.w1,y.Dz,y.nj,y.mD,y.Ke,y.ge,y.ev,y.XQ,y.Gk,y.Q2,it.gM,lt,R,st,z.x,L.KI,B.sg,B.O5,B.PC],encapsulation:2,changeDetection:0}),i})(),resolve:{data:(()=>{class i{constructor(e,n){this._topPerformanceService=e,this._filterMenuService=n,this._filterMenuService.filter$.subscribe(a=>{this._filter=a.filter})}resolve(e,n){return this._topPerformanceService.getData(this._filter)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(tt),t.LFG(et.a))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}];var Mi=p(2170);let Zi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[j.Bz.forChild(Ni),Mi.H,H.ot,ct.vV,pt.t,E.Ps,q.Tx,ht.Cv,k.si,ut.SJ,dt.JX,y.p0,mt.Nh,G.lN,it.AV,qt,z.X,L.y4,ft.m]}),i})()}}]);